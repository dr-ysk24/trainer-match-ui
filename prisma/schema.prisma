generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model User {
  id             String    @id @default(cuid())
  name           String
  email          String    @unique
  role           String    @default("user") // 'user' or 'trainer'
  image          String?
  bio            String?   // ğŸ‘ˆ ã“ã‚Œã‚’è¿½åŠ ï¼
  createdAt      DateTime  @default(now())
  emailVerified  DateTime?

  accounts       Account[]
  sessions       Session[]

  trainerProfile TrainerProfile?
}

model Account {
  id                 String  @id @default(cuid())
  userId             String
  user               User    @relation(fields: [userId], references: [id])
  type               String
  provider           String
  providerAccountId  String
  refresh_token      String?
  access_token       String?
  expires_at         Int?
  token_type         String?
  scope              String?
  id_token           String?
  session_state      String?

  @@unique([provider, providerAccountId])
}

model Session {
  id            String   @id @default(cuid())
  sessionToken  String   @unique
  userId        String
  user          User     @relation(fields: [userId], references: [id])
  expires       DateTime
}

model TrainerProfile {
  id        String   @id @default(cuid())
  userId    String   @unique
  user      User     @relation(fields: [userId], references: [id])
  region    String   // ä¾‹: æ±äº¬, å¤§é˜ª
  specialty String   // ä¾‹: ç­‹ãƒˆãƒ¬, ãƒ€ã‚¤ã‚¨ãƒƒãƒˆ
  bio       String?  // è‡ªå·±ç´¹ä»‹
  hourlyRate Int?     // âœ… ã“ã‚Œã‚’è¿½åŠ ï¼
  createdAt DateTime @default(now())

  reviews   Review[]  // âœ… 1å¯¾å¤šã®ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ 
}

model Review {
  id         String   @id @default(cuid())
  trainer    TrainerProfile @relation(fields: [trainerId], references: [id])
  trainerId  String

  userName   String
  userImage  String?
  rating     Int
  comment    String
  createdAt  DateTime @default(now())
}
